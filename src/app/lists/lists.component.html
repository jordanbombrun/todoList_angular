<div class="row mt-3">
  <div class="col-12 text-center">
    <button class="btn btn-warning" (click)="getData()">Afficher les listes</button>
  </div>

  <!--listes-->
  <div *ngIf="APIResponse; else errorDiv" class="offset-2 col-8">
    <h2 *ngIf="APIResponse.utilisateur">Les listes de <b>{{APIResponse.utilisateur}}</b></h2>
    <ul class="list-group list-unstyled" *ngFor="let list of APIResponse.todoListes">
      <li class="list-group-item my-3">
        <b>{{list.name}} :</b>

        <ul class="list-group list-unstyled my-3" *ngFor="let listItem of list.elements; let i=index">
          <li class="list-group-item">
            {{listItem}}
            <span> ### index du tableau : {{i}} </span>
            <button class="fas fa-edit mx-2" (click)="editListItem()"></button><!--edit the listItem-->
            <button class="fas fa-trash mx-2" (click)="deleteListItem()"></button><!--delete the listItem-->
          </li><!-- fin de l'item courant-->
        </ul>

        <div><!-- formulaire création d'un nouvel item-->
          <input type="text" placeholder="Nouvelle tâche" [(ngModel)]="newListItem">
          <button class="fas fa-plus-circle mx-2" (click)="createListItem()"></button>
        </div>

      </li> <!-- fin de la liste courante-->
    </ul>
  </div>

  <ng-template #errorDiv><!--message d'erreur-->
    <div class="offset-2 col-8 my-3">
      <p class="text-center text-warning bg-dark p-3">Vous n'êtes pas connecté. Authentifiez vous pour afficher vos todo listes !</p>
    </div>
  </ng-template>
</div>
